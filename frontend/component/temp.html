<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>NRV.net</title>
    <link rel="stylesheet" href="css/style.css" />
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.7.7/handlebars.min.js"
      defer
    ></script>
    <script src="./js/router.js" defer></script>
    <script
      src="https://kit.fontawesome.com/596072d93b.js"
      crossorigin="anonymous"
    ></script>
    <!-- Font Awesome -->
  </head>
  <body>
    <header id="root">
      <nav id="main-nav">
        <div class="navbar">
          <h1>NancyRockVibraaation</h1>
          <div class="navbar_right">
            <ul class="menu">
              <li><a href="/" onclick="route()">Home</a></li>
              <li><a href="/shows" onclick="route()">Shows</a></li>
              <li><a href="/login" onclick="route()">login</a></li>
              <li>
                <a href="/cart" onclick="route()"
                  ><i class="fa-solid fa-cart-shopping"></i
                ></a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
    </header>

    <div id="main-page"></div>
  </body>
</html>

<script>
  // 'use strict';

// const route = (event) => {
//     event = event || window.event;
//     event.preventDefault();
//     window.history.pushState({}, "", event.currentTarget.href);
//     handleLocation();
// };

// const routes = {
//   404: "/component/404.html",
//   "/": "/component/squelette.html",
//   "/login": "/component/login.html",
//   "/shows": "/component/shows.html",
//   "/showInfo": "/component/showInfo.html",
//   "/cart": "/component/cart.html",
// };

// const handleLocation = async () => {
//   const path = window.location.pathname;
//   const route = routes[path] || routes[404];
//   const html = await fetch(route).then((data) => data.text());
//   document.getElementById("main-page").innerHTML = html;

//     const scripts = document.querySelectorAll('.main-page-script');
//     scripts.forEach((script) => {
//         const newScript = document.createElement('script');
//         newScript.textContent = script.textContent;
//         if (script.src) {
//             newScript.src = script.src;
//         }
//         document.body.appendChild(newScript);
//         document.body.removeChild(newScript);
//     });

// };

// window.onpopstate = handleLocation;
// window.route = route;

// handleLocation();

</script>